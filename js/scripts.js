var isMobile,desktopOnlyOffset,frameWatcher,invoiceframe,clickWatcher,invoiceframeDoc,val_,workingCurrency,returnScroll,scrollingLoop,startX,scrollLeft,dyW,addedIndexPlaceholders,iframeStageDetection=0,indicationDelivered=!1,mousePositionDown=!1,index=0,choicesCount=document.querySelectorAll(".choice_").length;dyW=.7*screen.width>400?400:.7*screen.width;var growChoice,dirkey,carouselMoving,cmTO,bosym,bosymset,loopPosition=0,cFirst=getScrollAmount(document.querySelector(".choice_")),choices_=document.getElementById("choices_"),geo=[],fA=screen.width/300>1?parseInt(screen.width/300):1;for(addedIndexPlaceholders=parseInt(parseFloat(fA/2)),i=0;i<addedIndexPlaceholders;i++){var befH=document.createElement("div");befH.setAttribute("class","placeholderChoice beforePH"),befH.setAttribute("onclick","carousel(choicesCount-1)");var aftH=document.createElement("div");aftH.setAttribute("class","placeholderChoice afterPH"),aftH.setAttribute("onclick","carousel(0)"),choices_.prepend(befH),choices_.append(aftH)}function getMobileStatus(){isMobile=!1,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))&&(isMobile=!0)}function toggleMobileMenu(){document.getElementById("menuContents").style.display="grid"}function closeMenu(){document.getElementById("menuContents").removeAttribute("style")}function endVideo(){document.getElementById("videoContainer").style.display="none",document.getElementById("videoContainer_video0").innerHTML=""}function playVideo(){var e=document.getElementById("videoContainer_video0");e.innerHTML='<iframe id="videoContainerVideoPayload_0" src="https://www.youtube-nocookie.com/embed/ZIfJyq9RimM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',document.getElementById("videoContainer").style.display="grid",document.getElementById("videoContainerVideoPayload_0").width=e.clientWidth,document.getElementById("videoContainerVideoPayload_0").height=e.clientWidth/1.529}function setClickWatch(){document.querySelectorAll("a").forEach(function(e){e.addEventListener("click",function(e){e.stopPropagation()})}),document.querySelectorAll(".choices_holder")[0].removeAttribute("style"),document.getElementById("choices_holder").addEventListener("mousedown",function(e){mousePositionDown=!0,startX=e.pageX-document.getElementById("choices_").offsetLeft,scrollLeft=document.getElementById("choices_").scrollLeft}),document.getElementById("choices_").addEventListener("mouseleave",function(){mousePositionDown=!1}),document.getElementById("choices_").addEventListener("mouseup",function(){mousePositionDown=!1}),document.getElementById("choices_").addEventListener("mousemove",function(e){if(mousePositionDown){e.preventDefault();var t=3*(e.pageX-document.getElementById("choices_").offsetLeft-startX);document.getElementById("choices_").scrollLeft=scrollLeft-t}})}gradient=function(e){return"rgb("+(15*e>=200?0:200-15*e)+",210,"+(15*e>=200?15*e:0)+")"},getMobileStatus();try{document.getElementById("choices_").addEventListener("scroll",function(){document.getElementById("choicesUIShadowXScrollPre")&&document.getElementById("choices_").scrollLeft>=100?document.getElementById("choicesUIShadowXScrollPre").style.opacity=1:document.getElementById("choicesUIShadowXScrollPre")&&(document.getElementById("choicesUIShadowXScrollPre").style.opacity=0),document.getElementById("choicesUIShadowXScroll")&&document.getElementById("choices_").scrollLeft<=450?document.getElementById("choicesUIShadowXScroll").style.opacity=1:document.getElementById("choicesUIShadowXScroll")&&(document.getElementById("choicesUIShadowXScroll").style.opacity=0)})}catch(e){}function scrollTo(e,t){var n=t||1,o=document.getElementById(e),i=window.scrollY?window.scrollY:0;animate(document.scrollingElement||document.documentElement,"scrollTop","",i,o.offsetTop-n,750,!0)}function animate(e,t,n,o,i,l,c){if(e){var r=(new Date).getTime(),a=setInterval(function(){var s=Math.min(1,((new Date).getTime()-r)/l);c?e[t]=o+s*(i-o)+n:e.style[t]=o+s*(i-o)+n,1===s&&clearInterval(a)},1);c?e[t]=o+n:e.style[t]=o+n}}function alterHTML(e,t,n){var o=document.createElement("div");switch(o.innerHTML=t,n){case"append":for(;o.children.length>0;)e.appendChild(o.children[0]);break;case"prepend":for(;o.children.length>0;)e.prepend(o.children[0])}}function setJSEnvironment(){try{if(!document.querySelectorAll(".mobileCloseOpenNOJS")[0]){var e=document.getElementById("menuContents");alterHTML(e,'<div class="menuLinkParent"><a class="menuLink mobileOnly mobileCloseOpenNOJS" onclick="closeMenu();"><i class="fas fa-times"></i></a></div>',"prepend")}document.getElementById("choices_").removeAttribute("style"),document.getElementById("choices_").removeAttribute("class"),e.setAttribute("class",e.getAttribute("class").replace("mc_noJS","")+" menuContentsMobile"),document.querySelectorAll(".mobileMenuShortcut")[0].setAttribute("style",""),document.getElementById("videoPlayButton").removeAttribute("href",""),document.getElementById("videoPlayButton").removeAttribute("target",""),document.getElementById("nonJavascriptMessage").style.display="none",document.getElementById("valueSelectorHolder").style.display="block",document.querySelectorAll(".demoBlockText")[0].style.display="block",document.querySelectorAll(".payButtonLiveDemoInvoice")[0].style.display="block",document.getElementById("infoButton01").removeAttribute("style",""),document.getElementById("infoButton01").addEventListener("click",function(){document.getElementById("furtherQuote").style.display="unset",document.getElementById("infoButton01").style.display="none"}),document.getElementById("furtherQuote").style.display="none";var t=document.getElementById("triangularis"),n=.1*screen.width;t.style.display="block",t.style.background="red";var o=t.getBoundingClientRect().right>n?-1*(t.getBoundingClientRect().right+t.getBoundingClientRect().left-n):0;console.log(t.getBoundingClientRect().right,t.getBoundingClientRect().left,n,o),t.style.transform="translateX("+o+"px)"}catch(e){}}function randomString(e){for(var t="",n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",o=e;o>0;--o)t+=n[Math.floor(Math.random()*n.length)];return t}function startTimerInvoice(){var e,t=0,n=14;e=59;var o=document.getElementById("countDownTimer");window.setInterval(function(){function i(){t++;var e=document.getElementById("timer-row__progress-bar"),n=document.getElementById("timer-row");e.style.width=n.clientWidth-(n.clientWidth-50)*((900-t)/900)}i(),"00"===e&&(e=Number(60),n--),1==e&&(e=String("00")),"00"!=e&&e--;var l=String(e).length>1?"":"0";o.innerHTML=n+":"+l+e,i()},1e3)}function invoiceframePaybuttonSublitAndFlyIntoFrameView(e){if(document.getElementById("cancelDonation").style.display="inline-block",document.getElementById("donationCTA").innerHTML='<h2>Experience BTCPay Server and help Support the Project</h2><svg version="1.1" class="spinnerAnimated" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="283.46px" height="283.46px" viewBox="0 0 283.46 283.46" enable-background="new 0 0 283.46 283.46" xml:space="preserve"><circle fill="none" stroke="#329f65" stroke-width="30" stroke-linecap="round" stroke-miterlimit="10" cx="141.73" cy="141.73" r="106.762"/></svg><p class="genIn_">Generating your invoice...</p>',workingCurrency=workingCurrency||"USD",!invoiceframe){var t=val_||5;invoiceHolder=document.createElement("div"),invoiceHolder.setAttribute("id","invoiceHolder_"),(invoiceframe=document.createElement("iframe")).classList.add("iframe_"),invoiceframe.setAttribute("id","modalIframeReusable"),invoiceframe.setAttribute("onLoad","window.informOfProgress(event, this)"),invoiceframe.setAttribute("srcdoc",'<!doctype html><html><body><form method="POST" id="invoiceframePaybutton" action="https://mainnet.demo.btcpayserver.org/api/v1/invoices"><input type="hidden" name="storeId" value="EErYwCthBNfJUpuU1etH1uhg3x1YVH1q1F2zez7u1AAX" /><input type="hidden" name="price" value="'+t+'" /><input type="hidden" name="currency" value="'+workingCurrency+'" /><input type="image" src="" name="submit" style="width:209px"></form></body></html>'),document.getElementById("don_Par_sPa").appendChild(invoiceHolder),document.getElementById("invoiceHolder_").appendChild(invoiceframe)}frameWatcher=setInterval(function(){2==iframeStageDetection&&(clearInterval(frameWatcher),document.getElementById("donationCTA").setAttribute("class","flyAwayCTA01"),setTimeout(function(){document.getElementById("donationCTA").style.display="none";var e=document.getElementById("invoiceHolder_");(e.style.opacity="1",e.style.transform="translateY(0px)scale(1)",e.style["transform-origin"]="50% 0%",invoiceframe.style["min-height"]="720px",e.style["min-height"]="720px",document.getElementById("don_Par_sPa").style.height="720px",screen.height<=720+document.getElementById("promoArea").getBoundingClientRect().top)&&scrollTo("invoiceHolder_",screen.height-720>0?(screen.height-720)/2:20)},300)),1==iframeStageDetection&&(clickWatcher||(invoiceframe=document.getElementById("modalIframeReusable"),(invoiceframeDoc=invoiceframe.contentDocument).getElementById("invoiceframePaybutton")&&(invoiceframeDoc.getElementById("invoiceframePaybutton").submit(),clickWatcher=1)))},500)}function cancelDonation(){window.location="/"}function adjustValue(e,t,n){var o=document.querySelectorAll(".finalValue_")[0].getAttribute("value"),i=Number(o);i=i<=1?1:i;var l=" onkeyup=\"adjustValue('verify', event, this)\"";if("minus"==e){var c=i-1>=1?i-1:1;document.querySelectorAll(".finalValue_")[0].outerHTML='<input class="finalValue_ bounce_" value="'+c+'" type="text" placeholder="'+c+'"'+l+"/>",val_=c}if("plus"==e){var r=i+1>=1?i+1:1;document.querySelectorAll(".finalValue_")[0].outerHTML='<input class="finalValue_ bounce_" value="'+r+'" type="text" placeholder="'+r+'"'+l+"/>",val_=r}if("verify"==e){0!=isNaN(Number(t.key))&&1!=[".","Backspace","ArrowUp","ArrowRight","ArrowDown","ArrowLeft"].includes(t.key)?(document.querySelectorAll(".finalValue_")[0].outerHTML='<input class="finalValue_ bounce_" value="5" type="text" placeholder="5"'+l+"/>",document.querySelectorAll(".finalValue_")[0].focus(),val_=5):(n.value=n.value,val_=n.value)}i<1&&(document.querySelectorAll(".finalValue_")[0].innerHTML=1)}function setCurrency(e){workingCurrency=e.value}function openCurrencyOptions(e){document.getElementById("cOpt_").setAttribute("open",!0)}function changeLanguage(e){var t=e.native_language_name?e.native_language_name:e.value;geo.native_language_name=t,translatableStrings=[],"English"!==t&&systemAlert("Looping over translatable strings","Matching "+translatableStrings.length+" ids and replacing with "+t+" strings. Geographical data suggests your default language is: "+geo.anglo)}function stringTranslation(e){if(e)e=[e];else{var e=Array(),t=0;document.querySelectorAll(".trans_").forEach(function(n){n.setAttribute("trans_",t);try{e.push([btoa(n.innerHTML)])}catch(e){systemAlert("Encoding mismatch",e)}t++})}var n=new XMLHttpRequest;n.open("POST","https://api.flat18.co.uk/geolocation/v2/"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){200===n.status&&n.responseText.length<1?systemAlert("Something went wrong.  Name is now "+n.responseText):200!==n.status&&systemAlert("Request failed.  Returned status of "+n.status)},n.send(encodeURI("BTCPayServer_unique_001="+e+"&l="+geo.native_language_name))}function geolocation(){var e=["Italiano","Íslenska","Қазақша","Portuguese","Français","Español","Türkçe","नेपाली","Українська","Tiếng Việt","Polski","中文（简体","русский","Slovenčina","Slovenščina","Srpski","Deutsch","日本語","हिंदी","Magyar","Česky","Croatian","Dutch","English"];for(i=0;i<e.length;i++){var t=document.createElement("option");t.value=e[i],t.innerHTML=e[i],document.getElementById("LanguagePicker").append(t)}var n=new XMLHttpRequest;n.open("POST","https://api.flat18.co.uk/geolocation/v2/"),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.onload=function(){if(200===n.status&&n.responseText.length<1)alert("Something went wrong.  Name is now "+n.responseText);else if(200!==n.status)alert("Request failed.  Returned status of "+n.status);else{geo.value=JSON.parse(n.response).language_payload.code,geo.country_code=JSON.parse(n.response).country_payload.country_code,geo.native_language_name=JSON.parse(n.response).language_payload.native,geo.anglo=JSON.parse(n.response).language_payload.name,changeLanguage(geo);for(var e=document.getElementById("LanguagePicker"),t=0,o=e.options.length;t<o;++t)if(e.options[t].innerHTML===geo.native){e.selectedIndex=t;break}}},n.send(encodeURI("cnrt="+Date.now))}function systemAlert(e,t){t=t||"No message",clearTimeout(bosym),clearTimeout(bosymset),document.getElementById("systemAlert").style.display="none",document.getElementById("systemAlert").innerHTML="<b>"+e+"</b><p>"+t+"</p>",bosymset=setTimeout(function(){document.getElementById("systemAlert").style.display="block"},10),bosym=setTimeout(function(){document.getElementById("systemAlert").style.display="none"},1e4)}function toggle_(e){if("#"===String(e).substring(0,1)){var t=e.substring(1,e.length);document.getElementById(t).style.display="none"==document.getElementById(t).style.display?"":"none"}else if("."===String(e).substring(0,1))document.querySelectorAll(e).forEach(function(e){e.style.display="none"==e.style.display?"":"none"});else try{e.style.display="none"==e.style.display?"":"none"}catch(e){}}document.querySelectorAll("a").forEach(function(e){try{"#"==e.getAttribute("href").substr(0,1)&&"#_"!=e.getAttribute("href").substr(0,2)&&e.addEventListener("click",function(t){return t.preventDefault(),scrollTo(e.getAttribute("href").replace("#",""),50),!1})}catch(e){}}),getMobileStatus(),window.jsEnviron&&0!=window.jsEnviron&&(setClickWatch(),setJSEnvironment()),window.onresize=function(){getMobileStatus(),window.jsEnviron&&0!=window.jsEnviron&&setJSEnvironment(),closeMenu()},window.onscroll=function(){var e=-.2*window.scrollY,t=(window.scrollY,document.getElementById("promoArea"));t.style.transform=0==isMobile?"translateY("+e+"px)":"translateY(0px)",window.dynamicFTB_bacCom_Listners()},window.informOfProgress=function(e,t){iframeStageDetection++;try{"about:srcdoc"===t.contentWindow.location.href&&iframeStageDetection>=3&&(window.location="/")}catch(e){this.console.log(e)}iframeStageDetection>=3&&(window.location="/"),console.log("Debug: frame stage: "+iframeStageDetection)},document.getElementById("LanguagePicker")&&geolocation();var tstBlk_,col_=0;function keyDownHandler(e){switch(e.keyCode){case 39:dirkey="right",carousel("r");break;case 37:dirkey="left",carousel("l");break;case 40:dirkey="down";break;case 38:dirkey="up"}}function carousel(e){(carouselMoving=!0,clearTimeout(cmTO),0!=isNaN(e))?(index=index||0,(index=1==("l"!==e?1:-1)?index+1:index-1)<0&&(index=choicesCount),index>=0&&index<choicesCount&&(index=index),index>=choicesCount&&(index=0)):index=1!=isNaN(e)?Number(e):index||0;dyW=.7*screen.width+60>460?460:.7*screen.width-60;var t=document.querySelectorAll(".choice_")[index];if(document.querySelectorAll(".choice_").forEach(function(e){e.getAttribute("i")!=index&&(e.classList.remove("selectedChoice"),e.style.height=tstBlk_+"px",e.querySelectorAll(".payloadItem_").length>0&&(e.querySelector(".payloadItem_").style.display="none",e.querySelector(".pIc")&&(e.querySelector(".pIc").style.display="")))}),t.querySelector(".pIc")&&(t.querySelector(".pIc").style.display="none"),!0!==t.classList.contains("selectedChoice")){var n=new Number(t.getBoundingClientRect().height.toFixed(2));if(t.querySelector(".payloadItem_")){var o=t.querySelector(".payloadItem_");clearInterval(growChoice);var i=o.querySelectorAll(".ft-yt-vid-mod");i.length>0&&i.forEach(function(e){var t=document.createElement("iframe");t.setAttribute("src",e.getAttribute("href")),t.setAttribute("frameborder","0"),t.setAttribute("allow","encrypted-media; picture-in-picture"),t.setAttribute("height",(dyW/1.77).toFixed(2)),t.setAttribute("width",dyW),e.parentNode.replaceChild(t,e)}),o.style.display="grid";var l=n+new Number(o.getBoundingClientRect().height.toFixed(2))-(.7*screen.width+60>460?60:20);t.style.height=l+"px";var c=l+200;document.getElementById("choices_holder").style.height=c+"px"}animate(document.getElementById("choices_"),"scrollLeft","",document.getElementById("choices_").scrollLeft,getScrollAmount(t),400,!0)}t.classList.add("selectedChoice"),cmTO=setTimeout(function(){carouselMoving=!1},400)}function getScrollAmount(e){var t=e.getBoundingClientRect();dyW=.7*screen.width+60>460?460:.7*screen.width+60;var n=.7*screen.width+60>310?310:.7*screen.width+60,o=e.getAttribute("i"),i=50*o,l=t.width*o,c=addedIndexPlaceholders*n+50*addedIndexPlaceholders;document.querySelectorAll(".choice_")[0].getBoundingClientRect().left;return-1*((l>=.3*screen.width||.7*screen.width+60<=460?.5*screen.width-.5*dyW-50:0)-(i+l+c))}document.querySelectorAll(".n_iconography_").forEach(function(e){e.style.background=gradient(col_),col_++}),document.querySelectorAll(".PLI_noJS").forEach(function(e){e.style.display="none",e.classList.remove("PLI_noJS")}),document.addEventListener("keydown",keyDownHandler,!1),tstBlk_=0;var ix_=0;document.querySelectorAll(".choice_").forEach(function(e){e.setAttribute("i",ix_);var t=document.querySelectorAll(".payloadItem_")[ix_];t.setAttribute("i",ix_),tstBlk_<e.getBoundingClientRect().height&&(tstBlk_=e.getBoundingClientRect().height,console.log(tstBlk_));var n=t.children,o={DIV:"fAi fas fa-video",P:"fAi fas fa-align-left",A:"fAi fas fa-link",UL:"fAi fas fa-list-ul",IMG:"fAi far fa-image"};if(n.length>0){var l="";for(i=0;i<n.length;i++){var c=document.createElement("i");c.setAttribute("class",o[n[i].nodeName]),e.querySelector(".payloadDetail").append(c),l+="auto "}var r=document.createElement("i");r.setAttribute("class","pIc fas fa-hand-point-up"),e.querySelector(".payloadDetail").append(r),e.querySelector(".payloadDetail").style["grid-template-columns"]=l+"auto 1fr"}else e.querySelector(".payloadDetail").style.display="none";ix_++,e.addEventListener("click",function(e){e.preventDefault(),indicationDelivered=!0,carousel(index=this.getAttribute("i"))})}),window.dynamicFTB_bacCom_Listners=function(){choices_.getBoundingClientRect().top<.6*screen.height&&document.querySelectorAll(".carouselControl").forEach(function(e){e.style.display="block"}),choices_.getBoundingClientRect().bottom<.2*screen.height&&document.querySelectorAll(".carouselControl").forEach(function(e){e.style.display="none"}),choices_.getBoundingClientRect().top>.6*screen.height&&document.querySelectorAll(".carouselControl").forEach(function(e){e.style.display="none"})},carousel(0);
